---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: clusterqueues.kueue.x-k8s.io
spec:
  group: kueue.x-k8s.io
  names:
    kind: ClusterQueue
    listKind: ClusterQueueList
    plural: clusterqueues
    shortNames:
    - cq
    singular: clusterqueue
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - description: Cohort that this ClusterQueue belongs to
      jsonPath: .spec.cohort
      name: Cohort
      type: string
    - description: The queueing strategy used to prioritize workloads
      jsonPath: .spec.queueingStrategy
      name: Strategy
      priority: 1
      type: string
    - description: Number of pending workloads
      jsonPath: .status.pendingWorkloads
      name: Pending Workloads
      type: integer
    - description: Number of admitted workloads that haven't finished yet
      jsonPath: .status.admittedWorkloads
      name: Admitted Workloads
      priority: 1
      type: integer
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: ClusterQueue is the Schema for the clusterQueue API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: ClusterQueueSpec 定义 ClusterQueue 的期望状态
            properties:
              admissionChecks:
                description: admissionChecks 列出该 ClusterQueue 所需的 AdmissionChecks。不能与
                  AdmissionCheckStrategy 同时使用。
                items:
                  description: AdmissionCheckReference 是接纳检查的名称。
                  maxLength: 316
                  type: string
                type: array
              admissionChecksStrategy:
                description: admissionCheckStrategy 定义确定哪些 ResourceFlavors 需要 AdmissionChecks
                  的策略列表。该属性不能与 'admissionChecks' 属性同时使用。
                properties:
                  admissionChecks:
                    description: |-
                      admissionChecks is a list of strategies for AdmissionChecks
                      admissionChecks 是 AdmissionChecks 的策略列表
                    items:
                      description: |-
                        AdmissionCheckStrategyRule defines rules for a single AdmissionCheck
                        AdmissionCheckStrategyRule 定义单个 AdmissionCheck 的规则
                      properties:
                        name:
                          description: |-
                            name is an AdmissionCheck's name.
                            name 是 AdmissionCheck 的名称。
                          maxLength: 316
                          type: string
                        onFlavors:
                          description: |-
                            onFlavors is a list of ResourceFlavors' names that this AdmissionCheck should run for.
                            onFlavors 是此 AdmissionCheck 应运行的 ResourceFlavors 名称列表。
                            If empty, the AdmissionCheck will run for all workloads submitted to the ClusterQueue.
                            如果为空，则 AdmissionCheck 将对提交到 ClusterQueue 的所有工作负载运行。
                          items:
                            description: ResourceFlavorReference 是 ResourceFlavor
                              的名称。
                            maxLength: 253
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          type: array
                      required:
                      - name
                      type: object
                    type: array
                type: object
              admissionScope:
                description: admissionScope 表示 ClusterQueue 是否使用公平共享资源配额
                properties:
                  admissionMode:
                    description: |-
                      AdmissionMode 表示 AdmissionScope 中 AdmissionFairSharing 应使用的模式。
                      可能的值有：
                      - UsageBasedAdmissionFairSharing
                      - NoAdmissionFairSharing
                    type: string
                required:
                - admissionMode
                type: object
              cohort:
                description: |-
                  cohort 表示该 ClusterQueue 所属的 cohort。属于同一 cohort 的 CQ 可以相互借用未使用的资源。

                  CQ 只能属于一个借用 cohort。提交到引用该 CQ 的队列的工作负载可以从 cohort 中的任何 CQ 借用配额。
                  只有 CQ 中列出的 [resource, flavor] 对的配额可以被借用。
                  如果为空，则该 ClusterQueue 不能从其他 ClusterQueue 借用，也不能被其他 ClusterQueue 借用。

                  cohort 是将 CQ 关联在一起的名称，但不引用任何对象。
                maxLength: 253
                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                type: string
              fairSharing:
                description: fairSharing 定义该 ClusterQueue 参与公平共享时的属性。仅在 Kueue 配置中启用公平共享时才相关。
                properties:
                  weight:
                    anyOf:
                    - type: integer
                    - type: string
                    default: 1
                    description: |-
                      weight 为该 ClusterQueue 或 Cohort 在 Cohort 中争夺未使用资源时提供比较优势。
                      份额基于每种资源超出名义配额的主导资源使用量，除以权重。
                      调度优先考虑来自份额最低的 ClusterQueue 和 Cohort 的工作负载，并抢占份额最高的。
                      权重为零意味着份额值为无穷大，这意味着该节点在与其他 ClusterQueue 和 Cohort 竞争时总是处于劣势。
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                type: object
              flavorFungibility:
                default: {}
                description: flavorFungibility 定义在评估 flavor 时，工作负载是否应在借用或抢占前尝试下一个
                  flavor。
                properties:
                  whenCanBorrow:
                    default: Borrow
                    description: |-
                      whenCanBorrow 决定工作负载在当前 flavor 借用前是否应尝试下一个 flavor。可选值：

                      - `Borrow`（默认）：如果可以借用，则在当前 flavor 分配。
                      - `TryNextFlavor`：即使当前 flavor 有足够资源可借用，也尝试下一个 flavor。
                    enum:
                    - Borrow
                    - TryNextFlavor
                    type: string
                  whenCanPreempt:
                    default: TryNextFlavor
                    description: |-
                      whenCanPreempt 决定工作负载在当前 flavor 抢占前是否应尝试下一个 flavor。可选值：

                      - `Preempt`：如果可以抢占一些工作负载，则在当前 flavor 分配。
                      - `TryNextFlavor`（默认）：即使当前 flavor 有足够可抢占的候选，也尝试下一个 flavor。
                    enum:
                    - Preempt
                    - TryNextFlavor
                    type: string
                type: object
              namespaceSelector:
                description: |-
                  namespaceSelector 定义哪些命名空间可以向该 clusterQueue 提交工作负载。除了基本策略支持外，应使用策略代理（如 Gatekeeper）来实施更高级的策略。
                  默认为 null，即无选择器（无命名空间有资格）。如果设置为空选择器 `{}`，则所有命名空间都有资格。
                properties:
                  matchExpressions:
                    description: matchExpressions is a list of label selector requirements.
                      The requirements are ANDed.
                    items:
                      description: |-
                        A label selector requirement is a selector that contains values, a key, and an operator that
                        relates the key and values.
                      properties:
                        key:
                          description: key is the label key that the selector applies
                            to.
                          type: string
                        operator:
                          description: |-
                            operator represents a key's relationship to a set of values.
                            Valid operators are In, NotIn, Exists and DoesNotExist.
                          type: string
                        values:
                          description: |-
                            values is an array of string values. If the operator is In or NotIn,
                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                            the values array must be empty. This array is replaced during a strategic
                            merge patch.
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                      required:
                      - key
                      - operator
                      type: object
                    type: array
                    x-kubernetes-list-type: atomic
                  matchLabels:
                    additionalProperties:
                      type: string
                    description: |-
                      matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                      map is equivalent to an element of matchExpressions, whose key field is "key", the
                      operator is "In", and the values array contains only "value". The requirements are ANDed.
                    type: object
                type: object
                x-kubernetes-map-type: atomic
              preemption:
                default: {}
                description: |-
                  ClusterQueuePreemption 包含从本 ClusterQueue 或其 cohort 抢占工作负载的策略。

                  抢占可配置在以下场景下工作：

                    - 当工作负载适合 ClusterQueue 的 nominal quota，但该配额当前被 cohort 中其他 ClusterQueue 借用时。我们会抢占其他 ClusterQueue 的工作负载，以允许本 ClusterQueue 回收其 nominal quota。通过 reclaimWithinCohort 配置。
                    - 当工作负载不适合 ClusterQueue 的 nominal quota，且 ClusterQueue 中有更低优先级的已接收工作负载时。通过 withinClusterQueue 配置。
                    - 当工作负载可以通过借用和抢占 cohort 中低优先级工作负载来适配时。通过 borrowWithinCohort 配置。
                    - 启用 FairSharing 时，为保持未用资源的公平分配。详见 FairSharing 文档。

                  抢占算法会尝试找到最小集合的工作负载进行抢占，以容纳待处理工作负载，优先抢占优先级较低的工作负载。
                properties:
                  borrowWithinCohort:
                    default: {}
                    description: BorrowWithinCohort 包含允许在借用时抢占 cohort 内工作负载的配置。仅适用于经典抢占，不适用于公平共享。
                    properties:
                      maxPriorityThreshold:
                        description: |-
                          maxPriorityThreshold 允许将可被借用工作负载抢占的工作负载范围限制为优先级小于等于指定阈值的工作负载。
                          如果未指定阈值，则任何满足策略的工作负载都可以被借用工作负载抢占。
                        format: int32
                        type: integer
                      policy:
                        default: Never
                        description: |-
                          policy 决定借用时在 cohort 内回收配额的抢占策略。
                          可选值：
                          - `Never`（默认）：不允许借用工作负载在 cohort 内其他 ClusterQueue 抢占。
                          - `LowerPriority`：允许借用工作负载在 cohort 内其他 ClusterQueue 抢占，但仅限于被抢占工作负载优先级较低时。
                        enum:
                        - Never
                        - LowerPriority
                        type: string
                    type: object
                  reclaimWithinCohort:
                    default: Never
                    description: |-
                      reclaimWithinCohort 决定待处理工作负载是否可以抢占 cohort 中超出 nominal quota 的其他 ClusterQueue 的工作负载。可选值：

                      - `Never`（默认）：不抢占 cohort 中的工作负载。
                      - `LowerPriority`：**经典抢占**：如果待处理工作负载适合其 ClusterQueue 的 nominal quota，仅抢占 cohort 中优先级较低的工作负载。**公平共享**：仅抢占 cohort 中优先级较低且满足公平共享抢占策略的工作负载。
                      - `Any`：**经典抢占**：如果待处理工作负载适合其 ClusterQueue 的 nominal quota，可抢占 cohort 中任何工作负载，无论优先级。**公平共享**：抢占 cohort 中满足公平共享抢占策略的工作负载。
                    enum:
                    - Never
                    - LowerPriority
                    - Any
                    type: string
                  withinClusterQueue:
                    default: Never
                    description: |-
                      withinClusterQueue 决定不适合其 ClusterQueue nominal quota 的待处理工作负载是否可以抢占 ClusterQueue 中的活动工作负载。可选值：

                      - `Never`（默认）：不抢占 ClusterQueue 中的工作负载。
                      - `LowerPriority`：仅抢占 ClusterQueue 中优先级低于待处理工作负载的工作负载。
                      - `LowerOrNewerEqualPriority`：仅抢占 ClusterQueue 中优先级低于待处理工作负载，或优先级相同但比待处理工作负载新的工作负载。
                    enum:
                    - Never
                    - LowerPriority
                    - LowerOrNewerEqualPriority
                    type: string
                type: object
                x-kubernetes-validations:
                - message: reclaimWithinCohort=Never and borrowWithinCohort.Policy!=Never
                  rule: '!(self.reclaimWithinCohort == ''Never'' && has(self.borrowWithinCohort)
                    &&  self.borrowWithinCohort.policy != ''Never'')'
              queueingStrategy:
                default: BestEffortFIFO
                description: |-
                  QueueingStrategy 表示该 ClusterQueue 下队列中工作负载的排队策略。
                  当前支持的策略：

                  - StrictFIFO：工作负载严格按创建时间排序。无法接收的旧工作负载会阻塞新工作负载的接收，即使新工作负载适合现有配额。
                  - BestEffortFIFO：工作负载按创建时间排序，但无法接收的旧工作负载不会阻塞适合现有配额的新工作负载的接收。
                enum:
                - StrictFIFO
                - BestEffortFIFO
                type: string
              resourceGroups:
                description: |-
                  resourceGroups 描述资源组。
                  每个资源组定义资源列表和为这些资源提供配额的 flavor 列表。
                  每个资源和每个 flavor 只能属于一个资源组。
                  resourceGroups 最多可有 16 个。
                items:
                  properties:
                    coveredResources:
                      description: |-
                        coveredResources 是此组中 flavors 覆盖的资源列表。
                        例如：cpu、memory、vendor.com/gpu。
                        此列表不能为空，且最多包含 16 个资源。
                      items:
                        description: ResourceName is the name identifying various
                          resources in a ResourceList.
                        type: string
                      maxItems: 16
                      minItems: 1
                      type: array
                    flavors:
                      description: |-
                        flavors 是为此组资源提供配额的 flavor 列表。
                        通常，不同的 flavor 代表不同的硬件型号（如 gpu 型号、cpu 架构）或定价模式（按需 vs 竞价 cpu）。
                        每个 flavor 必须以与 .resources 字段相同的顺序列出此组的所有资源。
                        此列表不能为空，且最多包含 16 个 flavor。
                      items:
                        properties:
                          name:
                            description: |-
                              name of this flavor. The name should match the .metadata.name of a
                              ResourceFlavor. If a matching ResourceFlavor does not exist, the
                              ClusterQueue will have an Active condition set to False.
                              此 flavor 的名称。名称应与 ResourceFlavor 的 .metadata.name 匹配。如果不存在匹配的 ResourceFlavor，则 ClusterQueue 的 Active 状态将为 False。
                            maxLength: 253
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          resources:
                            description: |-
                              resources is the list of quotas for this flavor per resource.
                              There could be up to 16 resources.
                            items:
                              properties:
                                borrowingLimit:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  description: |-
                                    borrowingLimit 是该 ClusterQueue 允许从同一 cohort 中其他 ClusterQueue 未使用配额中借用的 [flavor, resource] 组合的最大配额。
                                    总体上，在某一时刻，ClusterQueue 中的工作负载可以消耗等于 nominalQuota+borrowingLimit 的配额，前提是 cohort 中其他 ClusterQueue 有足够的未使用配额。
                                    如果为 null，表示没有借用上限。
                                    如果不为 null，则必须为非负数。
                                    如果 spec.cohort 为空，则 borrowingLimit 必须为 null。
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                lendingLimit:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  description: |-
                                    lendingLimit 是该 ClusterQueue 可以借给同一 cohort 中其他 ClusterQueue 的 [flavor, resource] 组合的最大未使用配额。
                                    总体上，在某一时刻，ClusterQueue 为其专用保留的配额等于 nominalQuota - lendingLimit。
                                    如果为 null，表示没有出借上限，意味着所有 nominalQuota 都可以被 cohort 中其他 ClusterQueue 借用。
                                    如果不为 null，则必须为非负数。
                                    如果 spec.cohort 为空，则 lendingLimit 必须为 null。
                                    此字段为 beta 阶段，默认启用。
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                name:
                                  description: |-
                                    name of this resource.
                                    此资源的名称。
                                  type: string
                                nominalQuota:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  description: |-
                                    nominalQuota 必须为非负数。
                                    nominalQuota 应代表集群中可用于运行作业的资源（扣除系统组件和非 kueue 管理的 pod 所消耗的资源后）。在自动扩缩的集群中，nominalQuota 应考虑如 Kubernetes cluster-autoscaler 等组件可提供的资源。

                                    如果 ClusterQueue 属于 cohort，则每个（flavor, resource）组合的配额总和定义了 cohort 中 ClusterQueue 可分配的最大数量。
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                              required:
                              - name
                              - nominalQuota
                              type: object
                            maxItems: 16
                            minItems: 1
                            type: array
                            x-kubernetes-list-map-keys:
                            - name
                            x-kubernetes-list-type: map
                        required:
                        - name
                        - resources
                        type: object
                      maxItems: 16
                      minItems: 1
                      type: array
                      x-kubernetes-list-map-keys:
                      - name
                      x-kubernetes-list-type: map
                  required:
                  - coveredResources
                  - flavors
                  type: object
                  x-kubernetes-validations:
                  - message: flavors must have the same number of resources as the
                      coveredResources
                    rule: self.flavors.all(x, size(x.resources) == size(self.coveredResources))
                maxItems: 16
                type: array
                x-kubernetes-list-type: atomic
              stopPolicy:
                default: None
                description: |-
                  stopPolicy - 如果设置为非 None，则该 ClusterQueue 被视为非活动状态，不会进行新的配额预留。

                  根据其值，相关工作负载将：

                  - None - 工作负载被接收
                  - HoldAndDrain - 已接收的工作负载被驱逐，预留中的工作负载将取消预留。
                  - Hold - 已接收的工作负载将运行至完成，预留中的工作负载将取消预留。
                enum:
                - None
                - Hold
                - HoldAndDrain
                type: string
            type: object
            x-kubernetes-validations:
            - message: borrowingLimit must be nil when cohort is empty
              rule: '!has(self.cohort) && has(self.resourceGroups) ? self.resourceGroups.all(rg,
                rg.flavors.all(f, f.resources.all(r, !has(r.borrowingLimit)))) : true'
          status:
            description: ClusterQueueStatus 定义 ClusterQueue 的观测状态
            properties:
              admittedWorkloads:
                description: admittedWorkloads 是当前已被此 clusterQueue 接收且尚未完成的工作负载数量。
                format: int32
                type: integer
              conditions:
                description: conditions 保存 ClusterQueue 当前状态的最新可用观测信息。
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              fairSharing:
                description: |-
                  fairSharing 包含此 ClusterQueue 参与公平共享时的当前状态。
                  仅在 Kueue 配置中启用公平共享时记录。
                properties:
                  admissionFairSharingStatus:
                    description: admissionFairSharingStatus 表示与 Admission Fair Sharing
                      相关的信息
                    properties:
                      consumedResources:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: |-
                          ConsumedResources 表示资源随时间的聚合使用量，应用了衰减函数。
                          如果在 Kueue 配置中启用了使用量消耗功能，则会填充值。
                        type: object
                      lastUpdate:
                        description: LastUpdate 是份额和已消耗资源被更新的时间。
                        format: date-time
                        type: string
                    required:
                    - consumedResources
                    - lastUpdate
                    type: object
                  weightedShare:
                    description: |-
                      WeightedShare 表示节点所提供的所有资源中，超出名义配额的使用量与 Cohort 可借用资源的比值的最大值，再除以权重。
                      如果为零，表示节点的使用量低于名义配额。如果节点权重为零且正在借用，则返回 9223372036854775807，即最大可能的份额值。
                    format: int64
                    type: integer
                required:
                - weightedShare
                type: object
              flavorsReservation:
                description: flavorsReservation 是当前被分配到此 ClusterQueue 的工作负载所使用的按 flavor
                  划分的预留配额。
                items:
                  properties:
                    name:
                      description: flavor 的名称。
                      maxLength: 253
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    resources:
                      description: resources 列出此 flavor 中资源的配额使用情况。
                      items:
                        properties:
                          borrowed:
                            anyOf:
                            - type: integer
                            - type: string
                            description: Borrowed 是从 cohort 借用的配额数量。换句话说，是超出 nominalQuota
                              的已用配额。
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          name:
                            description: 资源的名称
                            type: string
                          total:
                            anyOf:
                            - type: integer
                            - type: string
                            description: total 是已用配额的总量，包括从 cohort 借用的数量。
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                        required:
                        - name
                        type: object
                      maxItems: 16
                      type: array
                      x-kubernetes-list-map-keys:
                      - name
                      x-kubernetes-list-type: map
                  required:
                  - name
                  - resources
                  type: object
                maxItems: 16
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              flavorsUsage:
                description: flavorsUsage 是当前被此 ClusterQueue 接收的工作负载所使用的按 flavor 划分的已用配额。
                items:
                  properties:
                    name:
                      description: flavor 的名称。
                      maxLength: 253
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    resources:
                      description: resources 列出此 flavor 中资源的配额使用情况。
                      items:
                        properties:
                          borrowed:
                            anyOf:
                            - type: integer
                            - type: string
                            description: Borrowed 是从 cohort 借用的配额数量。换句话说，是超出 nominalQuota
                              的已用配额。
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          name:
                            description: 资源的名称
                            type: string
                          total:
                            anyOf:
                            - type: integer
                            - type: string
                            description: total 是已用配额的总量，包括从 cohort 借用的数量。
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                        required:
                        - name
                        type: object
                      maxItems: 16
                      type: array
                      x-kubernetes-list-map-keys:
                      - name
                      x-kubernetes-list-type: map
                  required:
                  - name
                  - resources
                  type: object
                maxItems: 16
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              pendingWorkloads:
                description: pendingWorkloads 是当前等待被此 clusterQueue 接收的工作负载数量。
                format: int32
                type: integer
              pendingWorkloadsStatus:
                description: |-
                  PendingWorkloadsStatus 包含关于 cluster queue 中当前待处理工作负载状态的信息。
                  已弃用：此字段将在 v1beta2 移除，请改用 VisibilityOnDemand。
                properties:
                  clusterQueuePendingWorkload:
                    description: Head 包含最前面的待处理工作负载列表。
                    items:
                      description: |-
                        ClusterQueuePendingWorkload contains the information identifying a pending workload
                        in the cluster queue.
                        ClusterQueuePendingWorkload 包含标识 cluster queue 中待处理工作负载的信息。
                      properties:
                        name:
                          description: Name 表示待处理工作负载的名称。
                          type: string
                        namespace:
                          description: Namespace 表示待处理工作负载的命名空间。
                          type: string
                      required:
                      - name
                      - namespace
                      type: object
                    type: array
                    x-kubernetes-list-type: atomic
                  lastChangeTime:
                    description: LastChangeTime 表示结构最后一次变更的时间。
                    format: date-time
                    type: string
                required:
                - lastChangeTime
                type: object
              reservingWorkloads:
                description: reservingWorkloads 是当前在此 clusterQueue 中预留配额的工作负载数量。
                format: int32
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
